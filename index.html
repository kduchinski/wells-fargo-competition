<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Wells Fargo 2015 Campus Analytics Challenge by kduchinski</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Wells Fargo 2015 Campus Analytics Challenge</h1>
      <h2 class="project-tagline"></h2>
      <a href="https://github.com/kduchinski/wells-fargo-competition" class="btn">View on GitHub</a>
      <a href="https://github.com/kduchinski/wells-fargo-competition/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/kduchinski/wells-fargo-competition/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="introduction" class="anchor" href="#introduction" aria-hidden="true"><span class="octicon octicon-link"></span></a>Introduction</h1>

<p>description of the goals of this project and what we did to accomplish them 
thank wells fargo and mindsumo<br>
flow diagram</p>

<h1>
<a id="what-financial-topics-do-consumers-discuss-on-social-media-and-what-caused-the-consumers-to-post-about-this-topic" class="anchor" href="#what-financial-topics-do-consumers-discuss-on-social-media-and-what-caused-the-consumers-to-post-about-this-topic" aria-hidden="true"><span class="octicon octicon-link"></span></a>What financial topics do consumers discuss on social media and what caused the consumers to post about this topic?</h1>

<h2>
<a id="approach" class="anchor" href="#approach" aria-hidden="true"><span class="octicon octicon-link"></span></a>Approach</h2>

<p>describe approach to this question in more detail  </p>

<div class="highlight highlight-source-r"><pre><span class="pl-c">#To isolate posts mentioning Bank A  </span>
<span class="pl-v">bankA.idx</span> <span class="pl-k">=</span> which(sapply(<span class="pl-smi">df</span><span class="pl-k">$</span><span class="pl-smi">FullText</span>,<span class="pl-k">function</span>(<span class="pl-smi">x</span>) grepl(<span class="pl-s"><span class="pl-pds">"</span>BankA<span class="pl-pds">"</span></span>,<span class="pl-smi">x</span>)))</pre></div>

<h2>
<a id="bank-a" class="anchor" href="#bank-a" aria-hidden="true"><span class="octicon octicon-link"></span></a>Bank A</h2>

<table>
<thead>
<tr>
<th><img src="http://i.imgur.com/zcWUqB5.png?1" alt="Bank A Wordcloud"></th>
<th><img src="http://i.imgur.com/XkZbFQ2.png?1" alt="Bank A Term-Frequency Plot"></th>
</tr>
</thead>
<tbody>
</tbody>
</table>

<p>identify 3 key terms
sentiment analysis of 3 key terms<br>
wordcloud of "good"<br>
analysis of results</p>

<h2>
<a id="bank-b" class="anchor" href="#bank-b" aria-hidden="true"><span class="octicon octicon-link"></span></a>Bank B</h2>

<table>
<thead>
<tr>
<th><img src="http://i.imgur.com/Cxxvipl.png?1" alt="Bank B Wordcloud"></th>
<th><img src="http://i.imgur.com/wzbM4NO.png?1" alt="Bank B Term-Frequency Plot"></th>
</tr>
</thead>
<tbody>
</tbody>
</table>

<h2>
<a id="bank-c" class="anchor" href="#bank-c" aria-hidden="true"><span class="octicon octicon-link"></span></a>Bank C</h2>

<table>
<thead>
<tr>
<th><img src="http://i.imgur.com/zXFuQbG.png?2" alt="Bank C Wordcloud"></th>
<th><img src="http://i.imgur.com/6yS4Kr4.png?1" alt="Bank C Term-Frequency Plot"></th>
</tr>
</thead>
<tbody>
</tbody>
</table>

<h2>
<a id="bank-d" class="anchor" href="#bank-d" aria-hidden="true"><span class="octicon octicon-link"></span></a>Bank D</h2>

<table>
<thead>
<tr>
<th><img src="http://i.imgur.com/LHnTSiS.png?1" alt="Bank D Wordcloud"></th>
<th><img src="http://i.imgur.com/v3Qmsyk.png?1" alt="Bank D Term-Frequency Plot"></th>
</tr>
</thead>
<tbody>
</tbody>
</table>

<h2>
<a id="methods" class="anchor" href="#methods" aria-hidden="true"><span class="octicon octicon-link"></span></a>Methods</h2>

<div class="highlight highlight-source-r"><pre><span class="pl-c">#To generate a wordcloud from a term-document matrix "tdm"</span>
library(<span class="pl-smi">wordcloud</span>)
<span class="pl-smi">m</span> <span class="pl-k">&lt;-</span> as.matrix(<span class="pl-smi">tdm</span>)
<span class="pl-smi">word.freq</span> <span class="pl-k">&lt;-</span> sort(rowSums(<span class="pl-smi">m</span>), <span class="pl-v">decreasing</span> <span class="pl-k">=</span> <span class="pl-c1">T</span>)
<span class="pl-smi">pal</span> <span class="pl-k">&lt;-</span> brewer.pal(<span class="pl-c1">9</span>, <span class="pl-s"><span class="pl-pds">"</span>BuGn<span class="pl-pds">"</span></span>)
<span class="pl-smi">pal</span> <span class="pl-k">&lt;-</span> <span class="pl-smi">pal</span>[<span class="pl-k">-</span>(<span class="pl-c1">1</span><span class="pl-k">:</span><span class="pl-c1">4</span>)]
library(<span class="pl-smi">wordcloud</span>)
wordcloud(<span class="pl-v">words</span> <span class="pl-k">=</span> names(<span class="pl-smi">word.freq</span>), <span class="pl-v">freq</span> <span class="pl-k">=</span> <span class="pl-smi">word.freq</span>, <span class="pl-v">min.freq</span><span class="pl-k">=</span><span class="pl-c1">2500</span>, <span class="pl-v">random.order</span><span class="pl-k">=</span><span class="pl-c1">F</span>, <span class="pl-v">random.color</span><span class="pl-k">=</span><span class="pl-c1">F</span>, <span class="pl-v">colors</span> <span class="pl-k">=</span> <span class="pl-smi">pal</span>)</pre></div>

<div class="highlight highlight-source-r"><pre><span class="pl-c">#To generate a term-frequency plot from a term-document matrix "tdm"</span>
<span class="pl-smi">term.freq</span> <span class="pl-k">&lt;-</span> rowSums(as.matrix(<span class="pl-smi">tdm</span>))
<span class="pl-smi">term.freq</span> <span class="pl-k">&lt;-</span> subset(<span class="pl-smi">term.freq</span>, <span class="pl-smi">term.freq</span> <span class="pl-k">&gt;</span><span class="pl-k">=</span> <span class="pl-c1">5000</span>) <span class="pl-c">#Selects terms that occur more than 5000 times</span>
<span class="pl-smi">df</span> <span class="pl-k">&lt;-</span> <span class="pl-k">data.frame</span>(<span class="pl-v">term</span> <span class="pl-k">=</span> names(<span class="pl-smi">term.freq</span>), <span class="pl-v">freq</span> <span class="pl-k">=</span> <span class="pl-smi">term.freq</span>)
library(<span class="pl-smi">ggplot2</span>)
ggplot(<span class="pl-smi">df</span>, aes(<span class="pl-v">x</span><span class="pl-k">=</span><span class="pl-smi">term</span>, <span class="pl-v">y</span><span class="pl-k">=</span><span class="pl-smi">freq</span>)) <span class="pl-k">+</span> geom_bar(<span class="pl-v">stat</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>identity<span class="pl-pds">"</span></span>) <span class="pl-k">+</span> xlab(<span class="pl-s"><span class="pl-pds">"</span>Terms<span class="pl-pds">"</span></span>) <span class="pl-k">+</span> ylab(<span class="pl-s"><span class="pl-pds">"</span>Count<span class="pl-pds">"</span></span>) <span class="pl-k">+</span> coord_flip()</pre></div>

<p>`R</p>

<h1>
<a id="to-generate-a-sentiment-analysis-box-plot-from-a-dataframe-df-containing-consumer-comments-under-the-column-fulltext" class="anchor" href="#to-generate-a-sentiment-analysis-box-plot-from-a-dataframe-df-containing-consumer-comments-under-the-column-fulltext" aria-hidden="true"><span class="octicon octicon-link"></span></a>To generate a sentiment analysis box plot from a dataframe "df" containing consumer comments under the column "FullText"</h1>

<p>scores = score.sentiment(df$FullText, pos, neg, .progress='text') #Custom function
scores$very.pos = as.numeric(scores$score &gt;= 2)
scores$very.neg = as.numeric(scores$score &lt;= -2)
library(ggplot2)
ggplot(scores, aes(x=mediatype, y=score, group=mediatype)) +
  geom_boxplot(aes(fill=mediatype)) +
  scale_fill_manual(values=cols) +
  geom_jitter(colour="gray40",position=position_jitter(width=0.2), alpha=0.3) +
  labs(title = "Media Type's Sentiment Scores") + 
  xlab('Media Type') + ylab('Sentiment Score')
<code>
</code>R
score.sentiment = function(sentences, pos.words, neg.words, .progress='none')
{
  require(plyr)
  require(stringr)</p>

<p>scores = laply(sentences, function(sentence, pos.words, neg.words) {</p>

<pre><code># split into words. str_split is in the stringr package
word.list = str_split(sentence, '\\s+')
# sometimes a list() is one level of hierarchy too much
words = unlist(word.list)

# compare our words to the dictionaries of positive &amp; negative terms
pos.matches = match(words, pos.words)
neg.matches = match(words, neg.words)

# match() returns the position of the matched term or NA
# we just want a TRUE/FALSE:
pos.matches = !is.na(pos.matches)
neg.matches = !is.na(neg.matches)

# and conveniently enough, TRUE/FALSE will be treated as 1/0 by sum():
score = sum(pos.matches) - sum(neg.matches)

return(score)
</code></pre>

<p>}, pos.words, neg.words, .progress=.progress )</p>

<p>scores.df = data.frame(score=scores, text=sentences)
  return(scores.df)
}</p>

<p>`</p>

<h1>
<a id="are-the-topics-and-substance-consistent-across-the-industry-or-are-they-isolated-to-individual-banks" class="anchor" href="#are-the-topics-and-substance-consistent-across-the-industry-or-are-they-isolated-to-individual-banks" aria-hidden="true"><span class="octicon octicon-link"></span></a>Are the topics and “substance” consistent across the industry or are they isolated to individual banks?</h1>

<h2>
<a id="approach-1" class="anchor" href="#approach-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Approach</h2>

<p>describe approach to this question in more detail</p>

<h2>
<a id="industry" class="anchor" href="#industry" aria-hidden="true"><span class="octicon octicon-link"></span></a>Industry</h2>

<p>wordcloud, tf plot, sa
discuss common terms
discuss sentiment scores for each bank vs. industry</p>

<h2>
<a id="bank-a-1" class="anchor" href="#bank-a-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Bank A</h2>

<h2>
<a id="bank-b-1" class="anchor" href="#bank-b-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Bank B</h2>

<h2>
<a id="bank-c-1" class="anchor" href="#bank-c-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Bank C</h2>

<h2>
<a id="bank-d-1" class="anchor" href="#bank-d-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Bank D</h2>

<h2>
<a id="methods-1" class="anchor" href="#methods-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Methods</h2>

<p>sa (scores)</p>

<h3>
<a id="authors-and-contributors" class="anchor" href="#authors-and-contributors" aria-hidden="true"><span class="octicon octicon-link"></span></a>Authors and Contributors</h3>

<p>description of collaboration
*<a href="https://github.com/nashkenziem" class="user-mention">@nashkenziem</a>
*<a href="https://github.com/emilyberich" class="user-mention">@emilyberich</a></p>

<h3>
<a id="support-or-contact" class="anchor" href="#support-or-contact" aria-hidden="true"><span class="octicon octicon-link"></span></a>Support or Contact</h3>

<p>Having trouble with Pages? Check out our <a href="https://help.github.com/pages">documentation</a> or <a href="https://github.com/contact">contact support</a> and we’ll help you sort it out.</p>

<p>*To put in code</p>

<div class="highlight highlight-source-r"><pre><span class="pl-c">#example code</span></pre></div>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/kduchinski/wells-fargo-competition">Wells Fargo 2015 Campus Analytics Challenge</a> is maintained by <a href="https://github.com/kduchinski">kduchinski</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
